{{ define "main" }}

<section class="section bd-masthead">
  <div class="container-xxl">
    <div class="col-md-8 mx-auto text-center my-5">
      <img class="d-block mx-auto mb-3" src="{{ `img/logo.png` | relURL }}" width="200" alt="AuthProbe">
      <h1 class="display-4 fw-semibold mb-3">Pinpoint MCP OAuth failures</h1>
      <p class="lead mb-4">{{ .Site.Params.Description }}</p>
      <div class="d-flex justify-content-center gap-3 mb-3">
        <a class="btn btn-primary btn-lg px-4" href="/docs/quickstart/" role="button">Get started</a>
        <a class="btn btn-outline-secondary btn-lg px-4" href="https://github.com/authprobe/authprobe" role="button">
          <svg xmlns="http://www.w3.org/2000/svg" class="feather me-1"><use href="{{ `images/feather/feather-sprite.svg#github` | relURL }}"/></svg>GitHub
        </a>
      </div>
      <p class="text-muted mb-0">Open-source. Apache 2.0 licensed. Written in Go.</p>
    </div>
  </div>
</section>

<section class="section container">
  {{ partial "features" . }}
</section>

<section class="section container py-5">
  <h2 class="text-center mb-5">The scan funnel</h2>
  <div class="d-flex justify-content-center" style="overflow-x: auto;">
    <pre data-no-copy style="background: transparent; border: none; color: #333; font-size: 1.1rem; line-height: 1.8; padding: 1rem 0; margin: 0;"><code> [1] Discovery ──► [2] MCP Init ──► [3] PRM ──► [4] Auth Server ──► [5] Token ──► [6] DCR
       │                │              │              │                │              │
       ▼                ▼              ▼              ▼                ▼              ▼
    401 + WWW-     initialize +    Fetch PRM     Fetch issuer       POST           DCR
    Authenticate   tools/list      metadata      metadata          probe          probe</code></pre>
  </div>
  <p class="text-muted text-center mt-4" style="font-size: 1rem;">
    Each step maps to specific RFCs:
    <a href="https://modelcontextprotocol.io/specification">MCP</a>,
    <a href="https://datatracker.ietf.org/doc/html/rfc9728">RFC 9728</a>,
    <a href="https://datatracker.ietf.org/doc/html/rfc8414">RFC 8414</a>,
    <a href="https://datatracker.ietf.org/doc/html/rfc7591">RFC 7591</a>,
    <a href="https://datatracker.ietf.org/doc/html/rfc7636">RFC 7636</a>.
  </p>
</section>

<section class="section container py-4">
  <div class="col-lg-8 mx-auto text-center">
    <h2 class="mb-3"><a href="/docs/install/" class="text-decoration-none">Get Started &rarr;</a></h2>
  </div>
</section>

<section class="section container py-4">
  <h3 class="text-secondary text-center mt-5 mb-4">Used in the wild</h3>
  <div class="row justify-content-center g-4">
    <div class="col-lg-4 col-md-6">
      <div class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Sentry MCP</h5>
          <p class="card-text text-muted">Used AuthProbe to identify and fix RFC 9728 PRM compliance gaps for <code>mcp.sentry.dev</code>.</p>
          <a href="https://github.com/getsentry/sentry-mcp/pull/799" class="stretched-link"></a>
        </div>
      </div>
    </div>
    <div class="col-lg-4 col-md-6">
      <div class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Kiro</h5>
          <p class="card-text text-muted">Used AuthProbe to pinpoint an MCP server metadata/authorization detection issue.</p>
          <a href="https://github.com/kirodotdev/Kiro/issues/5452#issuecomment-3899076021" class="stretched-link"></a>
        </div>
      </div>
    </div>
    <div class="col-lg-4 col-md-6">
      <div class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Yargi MCP</h5>
          <p class="card-text text-muted">Used AuthProbe to surface a protocol-compliance bug with JSON-RPC request IDs.</p>
          <a href="https://github.com/saidsurucu/yargi-mcp/issues/18" class="stretched-link"></a>
        </div>
      </div>
    </div>
    <div class="col-lg-4 col-md-6">
      <div class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">RivalSearchMCP</h5>
          <p class="card-text text-muted">Used AuthProbe to identify and fix <code>MCP_JSONRPC_ID_NULL_ACCEPTED</code> by rejecting JSON-RPC requests with a null request ID.</p>
          <a href="https://github.com/damionrashford/RivalSearchMCP/issues/5" class="stretched-link"></a>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section container py-4 mb-5">
  <div class="col-lg-8 mx-auto text-center">
    <p class="text-muted mb-2">
      Like <code>authprobe</code>? Give it a
      <a href="https://github.com/authprobe/authprobe" class="text-decoration-none">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="0" class="text-warning align-text-bottom"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
        on GitHub</a> &mdash; it keeps us going.
    </p>
  </div>
</section>

{{ end }}
